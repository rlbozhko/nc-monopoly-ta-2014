
------СПИСОК ИГРОКОВ(ПО АНАЛОГИИ СПИСОК ЗДАНИЙ, ЯЧЕЕК)
select obj_player.name
from OBJTYPE player_type,
OBJECTS obj_player
where obj_player.OBJECT_TYPE_ID = player_type.OBJECT_TYPE_ID and
player_type.OBJECT_TYPE_ID = 5;

-----
select obj_player.name , attr_player.value
from OBJTYPE player_type join OBJECTS obj_player on (obj_player.OBJECT_TYPE_ID = player_type.OBJECT_TYPE_ID)
join OBJREFERENCE ref_player on (obj_player.OBJECT_ID = ref_player.OBJECT_ID)
join ATTRTYPE attr_type_player on (ref_player.ATTR_ID = attr_type_player.ATTR_ID) 
join ATTRIBUTES attr_player on (attr_player.ATTR_ID = attr_type_player.ATTR_ID)
where
player_type.OBJECT_TYPE_ID = 5 
and attr_type_player.ATTR_ID = 18;

--player name and position
select obj_player.NAME player, ref_player.REFERENCE cell_position
from OBJECTS obj_player join OBJREFERENCE ref_player on (obj_player.OBJECT_ID = ref_player.OBJECT_ID)
and ref_player.ATTR_ID = 2;

--player name, position, cash(money)
select obj_player.NAME player,--player name
ref_player.REFERENCE cell_position, -- his position
attr_player.value money -- his money
from OBJECTS obj_player join OBJREFERENCE ref_player on (obj_player.OBJECT_ID = ref_player.OBJECT_ID)
and ref_player.ATTR_ID = 2--position
join ATTRIBUTES attr_player on (attr_player.OBJECT_ID = obj_player.OBJECT_ID) 
and attr_player.ATTR_ID = 1;

--недвижимость игрока(на какой ячейке находится)
select obj_buil.PARENT_ID,--obj_id ячейки
obj_player.name, --имя игрока 
obj_cell.name, -- имя ячейки
obj_buil.name -- имя зданиния на ячейне
from OBJECTS obj_buil join OBJREFERENCE ref_build on (obj_buil.OBJECT_ID = ref_build.OBJECT_ID)
join OBJECTS obj_player on (ref_build.reference = obj_player.OBJECT_ID)
and ref_build.ATTR_ID = 12
join Objects obj_cell on (obj_buil.parent_id = obj_cell.OBJECT_ID);

--недвижимость игрока(на какой ячейке находится здания, уровень здания)
select obj_buil.PARENT_ID,--obj_id ячейки
obj_player.name, --имя игрока 
obj_cell.name, -- имя ячейки
obj_buil.name, -- имя зданиния на ячейне
attr_type_level_build.code
from OBJECTS obj_buil join OBJREFERENCE ref_build on (obj_buil.OBJECT_ID = ref_build.OBJECT_ID)
join OBJECTS obj_player on (ref_build.reference = obj_player.OBJECT_ID)
and ref_build.ATTR_ID = 12
join Objects obj_cell on (obj_buil.parent_id = obj_cell.OBJECT_ID)
join OBJTYPE obj_type_build_level on (obj_type_build_level.PARENT_ID = obj_buil.OBJECT_TYPE_ID)
join ATTRTYPE attr_type_level_build on (attr_type_level_build.OBJECT_TYPE_ID = obj_type_build_level.OBJECT_TYPE_ID);

--недвижимость игрока(на какой ячейке находится здания, уровень здания, позиция ячейки)
select obj_buil.PARENT_ID,--obj_id ячейки
obj_player.name, --имя игрока 
obj_cell.name, -- имя ячейки
obj_buil.name, -- имя зданиния на ячейне
attr_type_level_build.code,--уровень здания
attr_cell.value --позиция ячейки
from OBJECTS obj_buil join OBJREFERENCE ref_build on (obj_buil.OBJECT_ID = ref_build.OBJECT_ID)
join OBJECTS obj_player on (ref_build.reference = obj_player.OBJECT_ID)
and ref_build.ATTR_ID = 12
join Objects obj_cell on (obj_buil.parent_id = obj_cell.OBJECT_ID)
join OBJTYPE obj_type_build_level on (obj_type_build_level.PARENT_ID = obj_buil.OBJECT_TYPE_ID)
join ATTRTYPE attr_type_level_build on (attr_type_level_build.OBJECT_TYPE_ID = obj_type_build_level.OBJECT_TYPE_ID)
join ATTRIBUTES attr_cell on (obj_cell.OBJECT_ID = attr_cell.OBJECT_ID)
and attr_cell.ATTR_ID = 17;

------------ПРЕДЫДУЩЕЕ + ФТРАФ (ЗАВИСИТ ОТ УРОВНЯ ЗДАНИЯ)
select obj_buil.PARENT_ID,--obj_id ячейки
obj_player.name, --имя игрока 
obj_cell.name, -- имя ячейки
obj_buil.name, -- имя зданиния на ячейне
attr_type_level_build.code,--уровень здания
attr_cell.value --позиция ячейки
ATTR_LEVEL.VALUE --ФТРАФ (В ЗАВИСИМОСТИ ОТ УРОВНЯ ЗДАНИЯ)
from OBJECTS obj_buil join OBJREFERENCE ref_build on (obj_buil.OBJECT_ID = ref_build.OBJECT_ID)
join OBJECTS obj_player on (ref_build.reference = obj_player.OBJECT_ID)
and ref_build.ATTR_ID = 12
join Objects obj_cell on (obj_buil.parent_id = obj_cell.OBJECT_ID)
join OBJTYPE obj_type_build_level on (obj_type_build_level.PARENT_ID = obj_buil.OBJECT_TYPE_ID)
join ATTRTYPE attr_type_level_build on (attr_type_level_build.OBJECT_TYPE_ID = obj_type_build_level.OBJECT_TYPE_ID)
join ATTRIBUTES attr_cell on (obj_cell.OBJECT_ID = attr_cell.OBJECT_ID)
join ATTRIBUTES attr_level on (attr_level.ATTR_ID = attr_type_level_build.ATTR_ID )
and attr_cell.ATTR_ID = 17;
and attr_level.ATTR_ID = 18;
